<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sanelee.zhiyuan.Mapper.ProfessionExtMapper">
  <resultMap id="BaseResultMap" type="com.sanelee.zhiyuan.Model.Profession">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Dec 06 22:46:12 CST 2019.
    -->
    <id column="pid" jdbcType="INTEGER" property="pid" />
    <result column="subject" jdbcType="VARCHAR" property="subject" />
    <result column="major" jdbcType="VARCHAR" property="major" />
    <result column="proname" jdbcType="VARCHAR" property="proname" />
    <result column="timelength" jdbcType="VARCHAR" property="timelength" />
    <result column="classes" jdbcType="VARCHAR" property="classes" />
    <result column="job" jdbcType="VARCHAR" property="job" />
    <result column="graduate" jdbcType="VARCHAR" property="graduate" />
    <result column="code" jdbcType="VARCHAR" property="code" />
    <result column="sort" jdbcType="VARCHAR" property="sort" />
  </resultMap>

  <sql id="Base_Column_List1">
    major
  </sql>
  <select id="countBySomething" parameterType="com.sanelee.zhiyuan.DTO.ProfessionQueryDTO" resultType="java.lang.Integer">
    select count(*) from profession
    <where>
      <if test="search != null and search !=''">
        or proname regexp #{search}
      </if>
      <if test="major != null and major !=''">
        or major =#{major}
      </if>
      <if test="subject != null and subject !=''">
        or profession.subject = #{subject}
      </if>
    </where>
  </select>
  <select id="selectBySomething" parameterType="com.sanelee.zhiyuan.DTO.ProfessionQueryDTO" resultMap="BaseResultMap">
    select * from profession
    <where>
      <if test="search != null and search !=''">
        or proname regexp #{search}
      </if>
      <if test="major != null and major !=''">
        or major = #{major}
      </if>
      <if test="subject != null and subject !=''">
        or profession.subject=#{subject}
      </if>
    </where>
    order by pid limit #{page},#{size}
  </select>
  <select id="selectSubjectByExample" parameterType="com.sanelee.zhiyuan.Model.ProfessionExample" resultMap="BaseResultMap">

    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List1" />
    from profession
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectSubjectByMajor" parameterType="com.sanelee.zhiyuan.Model.Profession" resultMap="BaseResultMap">

    select distinct subject,major from profession
    <where>
      <if test="major != null and major != '' ">
        or major=#{major}
      </if>
    </where>
    order by pid

  </select>
  <select id="selectMajorByExample" parameterType="com.sanelee.zhiyuan.Model.ProfessionExample" resultMap="BaseResultMap">

    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List1" />
    from profession
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByProname" parameterType="com.sanelee.zhiyuan.Model.Profession" resultMap="BaseResultMap">

    select * from profession where proname=#{proname}

  </select>
  <select id="selectProfession" parameterType="com.sanelee.zhiyuan.Model.Profession" resultMap="BaseResultMap">
    select * from profession
  </select>

</mapper>